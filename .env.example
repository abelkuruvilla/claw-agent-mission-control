# =============================================================================
# Claw Agent Mission Control - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your values
# Never commit .env to version control!
# =============================================================================

# =============================================================================
# Server Configuration
# =============================================================================

# Server bind address (use 0.0.0.0 to accept connections from any interface)
HOST=0.0.0.0

# Server port (change if 8080 is already in use)
PORT=8080

# Environment mode: development | production
# - development: enables debug logging, CORS for localhost:3000
# - production: optimized logging, strict CORS
ENV=development

# =============================================================================
# Database
# =============================================================================

# Path to SQLite database file
# Relative paths are from the binary location
# Will be created automatically if it doesn't exist
DATABASE_PATH=./data/mission-control.db

# =============================================================================
# OpenClaw Gateway Connection
# =============================================================================

# WebSocket URL to your OpenClaw Gateway
# Default local gateway: ws://127.0.0.1:18789
# Remote gateway: ws://your-server.com:18789
OPENCLAW_GATEWAY_URL=ws://127.0.0.1:18789

# Authentication token for OpenClaw Gateway
# Find this in ~/.openclaw/openclaw.json under gateway.token
# Example: openclaw_gt_abc123def456...
OPENCLAW_GATEWAY_TOKEN=your-token-here

# Optional: Path to OpenClaw config file to auto-read URL and token
# If set, URL and TOKEN above are ignored
# OPENCLAW_CONFIG_PATH=~/.openclaw/openclaw.json

# =============================================================================
# Execution Defaults
# =============================================================================

# Default task execution approach: gsd | ralph
# - gsd: Get Shit Done (spec-driven with research, planning, execution, verification)
# - ralph: Autonomous iteration until all PRD stories pass
DEFAULT_APPROACH=gsd

# Default model for agent execution
# Must be available in your OpenClaw Gateway configuration
# Examples:
# - anthropic/claude-sonnet-4-5
# - anthropic/claude-opus-4-5
# - openai/gpt-4-turbo
DEFAULT_MODEL=anthropic/claude-sonnet-4-5

# Maximum number of parallel task executions
# Higher values = more concurrent work, but more resource usage
# Recommended: 2-5 depending on available resources
MAX_PARALLEL_EXECUTIONS=3

# =============================================================================
# GSD (Get Shit Done) Settings
# =============================================================================

# Planning depth: quick | standard | comprehensive
# - quick: Minimal planning, fast iteration
# - standard: Balanced planning and execution (recommended)
# - comprehensive: Deep analysis and detailed planning
GSD_DEPTH=standard

# Execution mode: interactive | yolo
# - interactive: Asks for confirmation before major steps
# - yolo: Autonomous execution without human approval
GSD_MODE=interactive

# Enable/disable workflow agents
# Each agent adds overhead but improves quality

# Research agent: Gathers context and explores requirements
GSD_RESEARCH_ENABLED=true

# Plan check agent: Reviews plans before execution
GSD_PLAN_CHECK_ENABLED=true

# Verifier agent: Tests and validates completed work
GSD_VERIFIER_ENABLED=true

# =============================================================================
# Ralph Loop Settings
# =============================================================================

# Maximum iterations per story before stopping
# Prevents infinite loops on impossible tasks
# Recommended: 5-15 depending on task complexity
RALPH_MAX_ITERATIONS=10

# Automatically commit after each successful story
# - true: Creates git commits as work completes
# - false: Manual commit control
RALPH_AUTO_COMMIT=true

# =============================================================================
# UI Settings
# =============================================================================

# Default theme: dark | light | system
# - dark: Dark mode (default)
# - light: Light mode
# - system: Use system preference
THEME=dark

# =============================================================================
# Network & CORS Configuration
# =============================================================================

# CORS (Cross-Origin Resource Sharing) settings
# By default, all origins are allowed for private network deployment
# Uncomment and set to restrict origins in production:

# Allowed CORS origins (comma-separated list)
# Examples:
# - Single origin: CORS_ALLOWED_ORIGINS=https://dashboard.example.com
# - Multiple: CORS_ALLOWED_ORIGINS=https://app1.com,https://app2.com
# - All (default): Leave commented for permissive access on private networks
# CORS_ALLOWED_ORIGINS=*

# Note: This application is designed for private network deployment.
# Do NOT expose directly to the public internet without proper authentication.
# The permissive CORS policy assumes a trusted network environment.

# =============================================================================
# Advanced Settings (Optional)
# =============================================================================

# Uncomment and configure as needed:

# Log level: debug | info | warn | error
# LOG_LEVEL=info

# Enable SQL query logging for debugging
# LOG_SQL=false

# WebSocket ping interval in seconds
# WS_PING_INTERVAL=30

# Task execution timeout in minutes (0 = no timeout)
# TASK_TIMEOUT=0

# Database connection pool size
# DB_MAX_CONNECTIONS=10

# Enable metrics endpoint at /metrics
# ENABLE_METRICS=false

# Metrics port (if different from main server)
# METRICS_PORT=9090

# =============================================================================
# Docker-Specific Settings
# =============================================================================

# When running in Docker, you may need to adjust:
# - OPENCLAW_GATEWAY_URL=ws://host.docker.internal:18789
# - DATABASE_PATH=/app/data/mission-control.db
# - HOST=0.0.0.0 (already default)

# =============================================================================
# Development Settings
# =============================================================================

# Frontend dev server URL (for CORS in development mode)
# DEV_FRONTEND_URL=http://localhost:3000

# Enable auto-reload for development
# DEV_AUTO_RELOAD=true

# Hot reload delay in milliseconds
# DEV_RELOAD_DELAY=500
